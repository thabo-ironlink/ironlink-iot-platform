# ==============================================================================
# Ironlink IoT Platform
# Raspberry Pi Edge Gateway â€“ Provisioning Environment File
#
# HOW TO USE:
# 1. Copy this file:
#      cp provision.env.example provision.env
# 2. Edit provision.env for the site/client
# 3. Run provisioning with:
#      set -a && source provision.env && set +a
#      ./provision.sh
#
# This file is SAFE to share as a template.
# Do NOT commit provision.env (actual values) to git.
# ==============================================================================


# ------------------------------------------------------------------------------
# DEVICE IDENTITY
# ------------------------------------------------------------------------------

# Hostname for the Raspberry Pi
# Use a clear, site-based naming convention
# Examples:
#   SITE-A-GW-01
#   CLIENTX-WELD-EDGE-01
IRONLINK_HOSTNAME=SITE-A-GW-01


# ------------------------------------------------------------------------------
# TIME & LOCALE
# ------------------------------------------------------------------------------

# System timezone
# Common values:
#   Africa/Johannesburg
#   Africa/Lusaka
#   UTC
IRONLINK_TIMEZONE=Africa/Johannesburg


# ------------------------------------------------------------------------------
# DOCKER & STACK CONTROL
# ------------------------------------------------------------------------------

# Install Docker and Docker Compose
# 1 = yes (recommended)
# 0 = no (Docker already installed)
IRONLINK_INSTALL_DOCKER=1

# Automatically start the Ironlink stack after provisioning
# 1 = start stack
# 0 = provision only
IRONLINK_START_STACK=1

# Relative path (from repo root) to docker-compose.yml
# Examples:
#   infra/poc-stack
#   infra/prod-stack
IRONLINK_STACK_DIR=infra/poc-stack


# ------------------------------------------------------------------------------
# NETWORK & SECURITY
# ------------------------------------------------------------------------------

# Enable UFW firewall with basic rules
# Opens:
#   - SSH (22)
#   - Grafana (3000)
#   - InfluxDB (8086)
#   - MQTT (1883)
# 1 = enable
# 0 = disable (default for PoC)
IRONLINK_ENABLE_UFW=0


# ------------------------------------------------------------------------------
# POST-PROVISION BEHAVIOUR
# ------------------------------------------------------------------------------

# Automatically reboot after provisioning
# Recommended if hostname or Docker was installed
# 1 = reboot
# 0 = do not reboot
IRONLINK_REBOOT=0


# ------------------------------------------------------------------------------
# NOTES FOR TECHNICIANS
# ------------------------------------------------------------------------------
#
# - After provisioning, log out and log back in if Docker was newly installed.
# - Access Grafana at: http://<PI-IP>:3000
# - MQTT broker runs on port 1883
#
# ------------------------------------------------------------------------------
