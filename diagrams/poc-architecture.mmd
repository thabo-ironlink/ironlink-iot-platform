flowchart LR
  %% Proof of Concept (PoC) architecture

  subgraph Edge["Edge (Lab / Single Site)"]
    ESP[ESP32 + Sensor\n(DHT11 / similar)]
    MQTT[MQTT Broker\n(Mosquitto)]
    TE[Telegraf\n(mqtt_consumer)]
  end

  subgraph Platform["Local Platform (on Raspberry Pi via Docker)"]
    INFLUX[InfluxDB\n(Time-series DB)]
    GRAF[Grafana\n(Dashboards)]
  end

  ESP -->|MQTT JSON telemetry\nironlink/env/HOME/<device>/<sensor>| MQTT
  MQTT -->|Subscribe topics| TE
  TE -->|Write metrics| INFLUX
  INFLUX -->|Query| GRAF

  note1["PoC focuses on:\n- End-to-end telemetry flow\n- Local storage + dashboards\n- Simple topic conventions"]:::note
  GRAF --- note1

  classDef note fill:#f5f5f5,stroke:#999,color:#111;
