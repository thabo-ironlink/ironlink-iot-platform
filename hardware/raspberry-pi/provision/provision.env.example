# ==============================================================================
# Ironlink IoT Platform
# Raspberry Pi Edge Gateway â€“ Provisioning Environment File
#
# HOW TO USE:
# 1. Copy this file:
#      cp provision.env.example provision.env
# 2. Edit provision.env for the site/client
# 3. Run provisioning with:
#      set -a && source provision.env && set +a
#      ./provision.sh
#
# This file is SAFE to share as a template.
# Do NOT commit provision.env (actual values) to git.
# ==============================================================================


# ------------------------------------------------------------------------------
# DEVICE IDENTITY
# ------------------------------------------------------------------------------

# These are REQUIRED for multi-site operations (v0.2.0+)
# Use uppercase, dash-separated IDs (easy to read, safe in URLs/topics)
#
# Examples:
#   IRONLINK_CLIENT_ID=ZAM-WELD
#   IRONLINK_SITE_ID=SITE-A
#   IRONLINK_GATEWAY_ID=GW-01
#   IRONLINK_ENVIRONMENT=prod
IRONLINK_CLIENT_ID=
IRONLINK_SITE_ID=
IRONLINK_GATEWAY_ID=
IRONLINK_ENVIRONMENT=prod


# Hostname for the Raspberry Pi
# If left blank, provisioning can derive it as:
#   <SITE_ID>-<GATEWAY_ID>
# Examples:
#   SITE-A-GW-01
#   CLIENTX-WELD-EDGE-01
IRONLINK_HOSTNAME=



# ------------------------------------------------------------------------------
# TIME & LOCALE
# ------------------------------------------------------------------------------

# System timezone
# Common values:
#   Africa/Johannesburg
#   Africa/Lusaka
#   UTC
IRONLINK_TIMEZONE=Africa/Johannesburg


# ------------------------------------------------------------------------------
# DOCKER & STACK CONTROL
# ------------------------------------------------------------------------------

# Install Docker and Docker Compose
# 1 = yes (recommended)
# 0 = no (Docker already installed)
IRONLINK_INSTALL_DOCKER=1

# Automatically start the Ironlink stack after provisioning
# 1 = start stack
# 0 = provision only
IRONLINK_START_STACK=1

# Relative path (from repo root) to docker-compose.yml
# Examples:
#   infra/poc-stack
#   infra/prod-stack
IRONLINK_STACK_DIR=infra/poc-stack


# ------------------------------------------------------------------------------
# NETWORK & SECURITY
# ------------------------------------------------------------------------------

# Enable UFW firewall with basic rules
# Opens:
#   - SSH (22)
#   - Grafana (3000)
#   - InfluxDB (8086)
#   - MQTT (1883)
# 1 = enable
# 0 = disable (default for PoC)
IRONLINK_ENABLE_UFW=0


# ------------------------------------------------------------------------------
# TELEMETRY NAMING (MQTT TOPIC ROOT)
# ------------------------------------------------------------------------------

# Standard topic root for all edge telemetry.
# Keep stable across versions for fleet operability.
# Example resulting topic:
#   ironlink/ZAM-WELD/SITE-A/GW-01/telemetry
IRONLINK_MQTT_TOPIC_ROOT=ironlink


# ------------------------------------------------------------------------------
# POST-PROVISION BEHAVIOUR
# ------------------------------------------------------------------------------

# Automatically reboot after provisioning
# Recommended if hostname or Docker was installed
# 1 = reboot
# 0 = do not reboot
IRONLINK_REBOOT=0


# ------------------------------------------------------------------------------
# NOTES FOR TECHNICIANS
# ------------------------------------------------------------------------------
#
# - After provisioning, log out and log back in if Docker was newly installed.
# - Access Grafana at: http://<PI-IP>:3000
# - MQTT broker runs on port 1883
#
# ------------------------------------------------------------------------------
